"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformV1ToV2 = exports.transformMiniProjectJson = void 0;
var mini_project_json_1 = require("../entity/mini-project-json");
/**
 *
 * 把新版本的配置文件、转换为旧版本的配置文件
 *
 * @param _config 原始的配置文件
 * @returns IMiniProjectJsonSpec mini.project.json 规范
 */
function transformMiniProjectJson(_config) {
    var _a;
    var format = (_a = _config.format) !== null && _a !== void 0 ? _a : 1;
    switch (format) {
        case 2: {
            return mini_project_json_1.MiniProjectJson.fromV2(_config);
        }
        case 1: {
            return mini_project_json_1.MiniProjectJson.fromV1(_config);
        }
        default: {
            throw new Error("don't support mini.project.json format ".concat(format, ", please upgrade ide"));
        }
    }
}
exports.transformMiniProjectJson = transformMiniProjectJson;
function transformV1ToV2(config) {
    var realConfig = mini_project_json_1.MiniProjectJson.fromV1(config);
    return mini_project_json_1.MiniProjectJson.toV2(realConfig);
}
exports.transformV1ToV2 = transformV1ToV2;
//# sourceMappingURL=transform-mini-project-json.js.map