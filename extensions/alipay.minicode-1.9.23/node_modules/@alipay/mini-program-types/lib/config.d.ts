export declare enum ECompileType {
    MiniProgram = "mini",
    Plugin = "plugin",
    /**
     * @private
     */
    Component = "component"
}
export interface IMiniScripts {
    watch?: string;
    beforeCompile?: string;
    beforePreview?: string;
    beforeUpload?: string;
}
export interface IMiniPluginDebugConfig {
    version: string;
}
export declare type TMiniDebugPlugins = Record<string, IMiniPluginDebugConfig>;
export interface IMiniPluginDebugHostConfig {
    appId: string;
    version?: string;
    isDynamicPlugin?: boolean;
}
export interface IMiniCubeExperimentalConfig {
    /**
     * 如果设置为 true ，则只打包 cube
     */
    cubeOnly?: boolean;
    /**
     * cube 相关的一些参数，只有 enableCube 开启后才生效
     */
    cubeCompileOptions?: {
        /**
         * 默认为 v1
         * v1 (传递给 cube build 为 native)
         * v2 (传递给 cube build 为 cube)
         */
        acssProcessor?: 'v1' | 'v2';
        /**
         * 默认为 cube
         */
        mode?: 'cube' | 'cubeAndWeb';
    };
}
export interface IMiniSubpackageCompatibleConfig {
    /**
     * 开启后，兼容 tiny-cli 的分包
     * @see https://code.alipay.com/oxyde/appxng/pull_requests/1817
     */
    subpackrootCompatible?: boolean;
}
export interface IMiniDebugOptions {
    /**
     * 是否启用此项配置
     */
    enable?: boolean;
    /**
     * 插件联调配置，指定某些插件走线下版本（四位版本号），方便联调
     */
    plugins?: TMiniDebugPlugins;
    /**
     * 动态插件联调配置（格式同 plugins）
     */
    dynamicPlugins?: TMiniDebugPlugins;
    /**
     * 小程序插件开发-插件联调宿主信息
     */
    hostMiniProgram?: IMiniPluginDebugHostConfig;
}
/**
 * 这个 typing 代表解析结果。
 * 更新这个类的时候也要同时更新一下 IMiniProjectJsonV1 和 IMiniProjectJsonV2
 */
export interface IMiniProjectJson {
    format?: 1 | 2;
    enableAppxNg?: boolean | 'YES';
    enableEnhancedBuild?: boolean;
    enableHMR?: boolean;
    component2?: boolean;
    axmlStrictCheck?: boolean;
    nonLoadingIndicator?: boolean;
    enableParallelLoader?: boolean;
    enableDistFileMinify?: boolean;
    enableNodeModuleBabelTransform?: boolean;
    uniBuild?: boolean;
    miniprogramRoot?: string;
    pluginRoot?: string;
    componentRoot?: string;
    compileType?: ECompileType;
    compileSPMDataset?: boolean;
    scripts?: IMiniScripts;
    include?: string[];
    exclude?: string[];
    enableCube?: boolean | 'YES' | 'SHARED' | 'NO';
    enableUnibuildAndAppxngComplexBundle?: boolean;
    debugOptions?: IMiniDebugOptions;
    experimental?: IMiniCubeExperimentalConfig;
    node_modules_es6_whitelist?: string[];
    compatible?: IMiniSubpackageCompatibleConfig;
    cloud?: IMiniCloudConfig;
    serverlessRoot?: string;
    compileOptionsTypescript?: boolean | ITypescriptOptions;
    compileOptionsLess?: boolean | ILessOptions;
    developOptionsDisableSourcemap?: boolean;
    webViewOptions?: IMiniWebViewOptions;
    unsupportedConfig?: TV2UnsupportedConfig;
}
export interface IMiniCloudConfig {
    type: 'CLOUDAPP' | 'miniappServerless';
}
export interface IMiniCompileOptions {
    /**
     * web 渲染
     * cube 渲染
     * @private
     */
    buildTarget?: 'web' | 'cube';
    /**
     * 强制降级 appx1
     * @doNotSuggest
     */
    downgradeToLegacyWeb?: boolean;
    /**
     * 是否启用 component2 编译
     * @privateDoc https://yuque.antfin.com/miniprogram-docs/guide/basic-js-component#component2
     * @doc https://opendocs.alipay.com/mini/framework/custom-component-overview#%E4%BD%BF%E7%94%A8%E9%A1%BB%E7%9F%A5
     */
    component2?: boolean;
    /**
     * 默认 loading 动画。
     */
    nonLoadingIndicator?: boolean;
    /**
     * 是否启用 typescript
     */
    typescript?: boolean | ITypescriptOptions;
    /**
     * 是否支持 less
     */
    less?: boolean | ILessOptions;
    /**
     * 对 node_modules 中的模块做 babel 编译。
     */
    enableNodeModuleBabelTransform?: boolean;
    /**
     * 对于白名单中的模块进行 babel 编译
     */
    nodeModulesES6Whitelist?: string[];
    /**
     * @deprecated 请使用 nodeModulesES6Whitelist
     */
    node_modules_es6_whitelist?: string[];
    /**
     * Appx 2.0 是否开启声明式埋点
     * @private
     */
    compileSPMDataset?: boolean;
}
export interface IMiniDevelopOptions {
    /**
     * 是否开启 hot module replacement
     */
    hotReload?: boolean;
    /**
     * 开启多进程构建（本地构建可以省电
     */
    disableParallel?: boolean;
    /**
     * dev 的时候关闭 sourcemap
     */
    disableSourcemap?: boolean;
}
export declare type TV2UnsupportedConfig = Pick<IMiniProjectJson, 'compatible' | 'enableEnhancedBuild' | 'axmlStrictCheck' | 'enableDistFileMinify' | 'enableCube' | 'experimental'>;
export interface ITransformedMiniProjectJsonV2 extends IMiniProjectJsonV2 {
    unsupportedConfig?: TV2UnsupportedConfig;
}
export interface IMiniProjectJsonV2 {
    /**
     * 第 2 版的小程序全局配置。可参考 [小程序全局配置 > 项目配置](https://opendocs.alipay.com/mini/03dbc3)。
     */
    format: 2;
    /**
     * 小程序构建类型
     * @default mini
     */
    compileType?: ECompileType;
    /**
     * 插件 plugin.json 所在路径
     */
    pluginRoot?: string;
    /**
     * 动态组件源码目录，相对路径 (动态组件是可以单独构建成产物的)
     * @private
     */
    componentRoot?: string;
    /**
     * 小程序云开发
     * @doNotSuggest
     */
    cloud?: IMiniCloudConfig;
    /**
     * 小程序云开发、serverless 所在的路径
     * @doNotSuggest
     */
    serverlessRoot?: string;
    /**
     * 小程序 app.json 所在路径
     */
    miniprogramRoot?: string;
    /**
     * 编译相关的配置
     */
    compileOptions?: IMiniCompileOptions;
    /**
     * 本地开发的额外配置
     */
    developOptions?: IMiniDevelopOptions;
    /**
     * 插件联调配置
     * @private
     */
    pluginResolution?: IMiniDebugOptions;
    /**
     * 自定义预处理脚本
     * @private
     */
    scripts?: IMiniScripts;
    /**
     * H5+ 模式配置
     * @doNotSuggest
     */
    webViewOptions?: IMiniWebViewOptions;
    /**
     * 本地目录打包时需要忽略的文件/文件夹，遵循 glob 语法
     */
    uploadExclude?: string[];
    /**
     * 构建产物目录打包时需要包含的文件/文件夹，遵循 glob 语法
     */
    assetsInclude?: string[];
}
/**
 * mini.project.json
 *
 * @privateDoc https://yuque.antfin.com/miniprogram-docs/guide/basic-project-config
 * @doc https://opendocs.alipay.com/mini/framework/project
 */
export interface IMiniProjectJsonV1 {
    /**
     * 第 1 版的小程序全局配置。可参考 [小程序全局配置 > 项目配置（旧版）](https://opendocs.alipay.com/mini/framework/project)。
     */
    format?: 1;
    /**
     * 是否启用 Appx2.0 编译
     *
     * @privateDoc https://yuque.alibaba-inc.com/volans/tiny-app-practice/rwznlu
     * @doc https://opendocs.alipay.com/mini/framework/lib-upgrade-v2
     */
    enableAppxNg?: boolean;
    /**
     * 启用 Appx 2.0 的构建工具 构建 Appx 1.0
     */
    enableEnhancedBuild?: boolean;
    /**
     * 是否开启 HMR
     */
    enableHMR?: boolean;
    /**
     * 是否启用 component2 编译
     *
     * @privateDoc https://yuque.antfin.com/miniprogram-docs/guide/basic-js-component#component2
     * @doc https://opendocs.alipay.com/mini/framework/custom-component-overview#%E4%BD%BF%E7%94%A8%E9%A1%BB%E7%9F%A5
     */
    component2?: boolean;
    /**
     * axml 严格语法，构建时能检查出标签未闭合等错误
     */
    axmlStrictCheck?: boolean;
    /**
     * 初始化小程序时，是否隐藏默认 loading 动画
     */
    nonLoadingIndicator?: boolean;
    /**
     * 启用多进程编译，首次无缓存时效果较明显
     */
    enableParallelLoader?: boolean;
    /**
     * 真机预览/真机调试阶段，是否压缩最终产物
     */
    enableDistFileMinify?: boolean;
    /**
     * Appx 2.0特性，对 node_modules 中的模块做 babel 编译
     */
    enableNodeModuleBabelTransform?: boolean;
    /**
     * 启用 Appx 2.0 合并构建
     */
    uniBuild?: boolean;
    /**
     * 小程序源码目录，相对路径。这个路径下应该有 app.json
     */
    miniprogramRoot?: string;
    /**
     * 插件源码目录，相对路径
     */
    pluginRoot?: string;
    /**
     * 动态组件源码目录，相对路径 (动态组件是可以单独构建成产物的)
     * @private
     */
    componentRoot?: string;
    /**
     * 编译类型, 可选值：mini(小程序) ｜ plugin(插件)
     * @default mini
     */
    compileType?: ECompileType;
    /**
     * Appx 2.0 是否开启声明式埋点
     * @private
     */
    compileSPMDataset?: boolean;
    /**
     * 自定义预处理脚本
     * @private
     */
    scripts?: IMiniScripts;
    /**
     * 打包时需要包含的文件/文件夹，遵循 glob 语法
     */
    include?: string[];
    /**
     * 打包时需要忽略的文件/文件夹，遵循 glob 语法
     */
    exclude?: string[];
    /**
     * @doNotSuggest
     */
    cloud?: any;
    /**
     * 是否启用 Appx 2.0 Cube 编译
     * @private
     */
    enableCube?: boolean | 'YES' | 'SHARED' | 'NO';
    /**
     * @doNotSuggest
     */
    enableUnibuildAndAppxngComplexBundle?: boolean;
    /**
     * 调试/联调的额外配置
     * @private
     */
    debugOptions?: IMiniDebugOptions;
    /**
     * 临时参数, 未来可能会不支持。
     * 不支持以后会直接抛错
     * @private
     */
    experimental?: IMiniCubeExperimentalConfig;
    /**
     * 对于白名单中的模块进行 babel 编译
     * @default []
     */
    node_modules_es6_whitelist?: string[];
    /**
     * 用于 cube build 兼容 tiny cli
     * @doNotSuggest
     */
    compatible?: IMiniSubpackageCompatibleConfig;
    /**
     * H5+ 模式配置
     * @doNotSuggest
     */
    webViewOptions?: IMiniWebViewOptions;
}
export interface IParsedMiniProjectJson extends IMiniProjectJson {
    _raw: IMiniProjectJson;
    _wasEmpty: boolean;
}
export declare const MINI_PROJECT_CONFIG_FILE = "mini.project.json";
export interface IMiniWebViewOptions {
    webViewRoot?: string;
    webViewDomain?: string | string[];
    /**
     * H5 页面不使用 my，无需引入 runtime-client
     */
    disableRuntime?: boolean;
}
export interface ITypescriptOptions {
    /**
     * typescript 版本
     */
    version?: string;
    /**
     * 是否仅编译、不校验 ts 类型
     */
    transpileOnly?: boolean;
}
export interface ILessOptions {
    /**
     * 设置 less-loader 的 modifyVars 配置
     * @private
     */
    modifyVars?: Record<string, string>;
}
//# sourceMappingURL=config.d.ts.map