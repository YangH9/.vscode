(()=>{"use strict";var e={236:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const r=n(496);t.activate=function(e){r.workspace.onDidChangeTextDocument((e=>i(this,void 0,void 0,(function*(){const t=r.workspace.getConfiguration(),n=t.get("template-string-converter.quoteType"),i=t.get("template-string-converter.enabled"),s=e.contentChanges[0],l=t.get("template-string-converter.validLanguages"),u=t.get("template-string-converter.addBracketsToProps"),g=t.get("template-string-converter.autoRemoveTemplateString"),p=t.get("editor.autoClosingBrackets"),w=t.get("template-string-converter.convertOutermostQuotes"),f=t.get("template-string-converter.convertWithinTemplateString");if(i&&n&&s&&(null==l?void 0:l.includes(e.document.languageId)))try{let t=[];if(!r.window.activeTextEditor||0===r.window.activeTextEditor.selections.length)return;for(const i of r.window.activeTextEditor.selections){const l=i.start.line,v=s.range.start.character,x=e.document.lineAt(l).text;if(v<1)return;const m=new r.Position(l,v-1),h=new r.Position(l,v),O=d(x.substring(0,v),c(n),"start",w);if(O<0)return;const y=v+1+d(x.substring(v+1,x.length),c(n),"end",w),E=x.slice(O+1,y),R=new r.Position(l,O),S=new r.Position(l,y),k=e.document.getText(new r.Range(m,h)),b=e.document.getText(new r.Range(m.translate(0,2),h.translate(0,2))),T=e.document.getText(new r.Range(m.translate(0,2),h.translate(0,3)));if(o(x,v,O,y)&&x.charAt(O)===x.charAt(y)){const i=new RegExp(/<\/?(?:[\w.:-]+\s*(?:\s+(?:[\w.:$-]+(?:=(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s{'">=]+|\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}))?|\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}))*\s*\/?)?>/gm),o=l>20?l-20:0,c=e.document.lineCount-l>20?l+20:e.document.lineCount,d=e.document.getText(new r.Range(o,0,c,200)).match(i);if(a(x,v,l,e.document,null==f||f)&&!E.includes("${")&&g&&!s.text){const t=new r.WorkspaceEdit;if(t.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"single"===n?"'":'"'),t.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"single"===n?"'":'"'),yield r.workspace.applyEdit(t),E.indexOf("$")===E.length-1){const e=r.window.activeTextEditor;if(!e)return;const t=e.selection.active,n=t.with(t.line,O+E.length+1),i=new r.Selection(n,n);e.selection=i}return}if(null!==d&&u){if("{"===s.text&&"$"===k){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"{"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"}"),n.insert(e.document.uri,new r.Position(l,v+1),"}"),n.insert(e.document.uri,new r.Position(l,y),"`"),n.insert(e.document.uri,new r.Position(l,O+1),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+2,l,v+2))}else if("{}"===s.text&&"$"===k){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"{"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"}"),n.insert(e.document.uri,new r.Position(l,y),"`"),n.insert(e.document.uri,new r.Position(l,O+1),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+2,l,v+2))}}else if(!a(x,v,l,e.document,null==f||f))if("{}"===s.text&&"$"===k&&(v<2||"\\"!==x.charAt(v-2))){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"`"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+1,l,v+1))}else if("{"===s.text&&"$"===k&&"never"!==p&&(v<2||"\\"!==x.charAt(v-2))){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"`"),n.insert(e.document.uri,h.translate(void 0,1),"}"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+1,l,v+1))}else if("never"===p&&"$"===k&&"{"===s.text&&(v<2||"\\"!==x.charAt(v-2))){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"`"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+1,l,v+1))}else if("$"===s.text&&"{}"===T&&(v<1||"\\"!==x.charAt(v-1))){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"`"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+2,l,v+2))}else if("$"===s.text&&"{"===b&&"never"!==p&&(v<1||"\\"!==x.charAt(v-1))){const n=new r.WorkspaceEdit;n.replace(e.document.uri,new r.Range(R,R.translate(void 0,1)),"`"),n.insert(e.document.uri,h.translate(void 0,2),"}"),n.replace(e.document.uri,new r.Range(S,S.translate(void 0,1)),"`"),yield r.workspace.applyEdit(n),t.push(new r.Selection(l,v+2,l,v+2))}}}r.window.activeTextEditor&&t.length>0&&(r.window.activeTextEditor.selections=t)}catch(e){}}))))};const o=(e,t,n,i)=>!e.substring(0,t).includes("//")||e.substring(0,t).indexOf("//")>n&&e.substring(0,t).indexOf("//")<i,a=(e,t,n,i,r)=>{const o=e.substring(0,t).includes("`")&&e.substring(t,e.length).includes("`");if(o){const n=e.substring(0,t).indexOf("`"),i=t+e.substring(t,e.length).indexOf("`"),a=e.substring(0,t).indexOf("${"),s=t+e.substring(t,e.length).indexOf("}");return r&&a>=0&&s>0?n>=a&&i<=s:o}{const r=n,o=i.lineAt(r).text,a=o.substring(0,t),c=o.substring(t,e.length);return s(r,a,i,"start")&&s(r,c,i,"end")}},s=(e,t,n,i)=>{for(e-=1;e>=0;){const i=t.indexOf("`"),r=t.indexOf(";"),o=t.indexOf(",");if(i>=0&&r>=0&&r<i)return!0;if(i>=0&&r>=0&&r>i)return!1;if(i>=0&&o>=0&&o<i)return!0;if(i>=0&&o>=0&&o>i)return!1;if(i>=0)return!0;if(r>=0||o>=0)return!1;e>-1&&(t=n.lineAt(e).text),e-=1}return!1},c=e=>e&&"both"!==e?"single"===e?"'":'"':"both",d=(e,t,n,i)=>{const r="start"===n&&i||"end"===n&&!i;if("both"===t){const t=r?e.toString().indexOf('"'):e.toString().lastIndexOf('"'),n=r?e.toString().indexOf("'"):e.toString().lastIndexOf("'"),i=r?e.toString().indexOf("`"):e.toString().lastIndexOf("`");return t>=0&&n>=0?r?Math.min(t,n):Math.max(t,n):t>=0?t:n>=0?n:i}return r?-1!==e.toString().indexOf("`")?e.toString().indexOf("`"):e.toString().indexOf(t):-1!==e.toString().lastIndexOf("`")?e.toString().lastIndexOf("`"):e.toString().lastIndexOf(t)};t.deactivate=function(){}},496:e=>{e.exports=require("vscode")}},t={},n=function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}(236),i=exports;for(var r in n)i[r]=n[r];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();